import{k as f,l as w,e as V,o as r,c as n,u as i,h as v,f as d,t as h,a as p}from"./index-27778c9f.js";import{B as m}from"./BaseInput-80b79ba3.js";const y=p("h1",null,"Login",-1),_=p("button",{type:"submit"},"Login",-1),b={key:1},L={__name:"LoginView",setup(k){const c=f(),t=w(),u={username:"",password:""},s=V({...u}),l=()=>Object.assign(s.value,u),g=async()=>{try{await t.login(s.value),t.setUser(),l(),c.replace({name:"Authenticated",params:{id:t.g$user.id}})}catch(o){console.log(o),alert(o)}};return(o,e)=>(r(),n("div",null,[y,i(t).getUsername?(r(),n("h3",b,h(i(t).getUsername),1)):(r(),n("form",{key:0,method:"post",onSubmit:e[2]||(e[2]=v(()=>g(),["prevent"])),onReset:e[3]||(e[3]=()=>l())},[d(m,{name:"username",modelValue:s.value.username,"onUpdate:modelValue":e[0]||(e[0]=a=>s.value.username=a),placeholder:"input username",required:""},null,8,["modelValue"]),d(m,{name:"password",modelValue:s.value.password,"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.password=a),placeholder:"input password",type:"password",required:""},null,8,["modelValue"]),_],32))]))}};export{L as default};
